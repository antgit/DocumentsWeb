@using BusinessObjects
@using BusinessObjects.Security
@using BusinessObjects.Web.Core
@using DocumentWeb.Extentions
@using DocumentsWeb.Areas.Reports.Models
@using DocumentsWeb.Models


@Html.DevExpress().NavBar(
nbrSettings =>
{
    nbrSettings.Name = "nbReports";
    nbrSettings.AllowExpanding = true;
    nbrSettings.AllowSelectItem = true;
    nbrSettings.AutoCollapse = false;
    nbrSettings.EnableHotTrack = true;
    nbrSettings.EnableAnimation = true;
    nbrSettings.Width = System.Web.UI.WebControls.Unit.Percentage(100);//System.Web.UI.WebControls.Unit.Pixel(250);
    nbrSettings.Height = System.Web.UI.WebControls.Unit.Percentage(100);
    nbrSettings.EncodeHtml = false;
    
    nbrSettings.Groups.Add(group => {
        group.Text = "Основные отчеты";
        group.ItemLinkMode = GroupItemLinkMode.TextAndImage;
        group.ItemStyle.Paddings.PaddingTop = System.Web.UI.WebControls.Unit.Pixel(2);
        group.ItemStyle.Paddings.PaddingBottom = System.Web.UI.WebControls.Unit.Pixel(2);
        // TODO: убрать после обновления
        group.ContentStyle.Font.Underline = true;
        group.Expanded = true;
        group.HeaderStyle.Font.Bold = true;
        MVCxNavBarItem item = null;
        Library report = null;
        //if (WebReportModel.IsReportAllow("WEBREPORT_TASK_DEVWHATSNEWS"))
        //{
        //    item = group.Items.Add("Что нового в системе?", "mnuReportWEBREPORT_TASK_DEVWHATSNEWS", "~/Images/STIREPORT_X16.png");
        //    report = WADataProvider.WA.Cashe.GetCasheData<Library>().ItemCode<Library>("WEBREPORT_TASK_DEVWHATSNEWS");
        //    item.ToolTip = report.Memo;
        //    item.Target = "_blank";
        //    if (report != null)
        //    {
        //        item.NavigateUrl = DevExpressHelper.GetUrl(new { Controller = "Report", Action = "Build", Area = "Reports" }) + "?id=" + report.Id;
        //    }
        //}

        item = group.Items.Add("Перейти в отчеты...", "mnuReportNavToReportsMain", "~/Images/arrowgreen.png");
        item.ToolTip = "Перейти в раздел отчетов...";
        item.NavigateUrl = Url.Action("Index", new { area = "Reports", Controller = "Report" });
        
        
    });

    nbrSettings.Groups.Add(group =>
    {
        group.Text = "Избранное";
        group.Expanded = false;
        group.HeaderStyle.Font.Bold = true;
        group.ItemLinkMode = GroupItemLinkMode.TextAndImage;
        // TODO: убрать после обновления
        group.ContentStyle.Font.Underline = true;
        MVCxNavBarItem item = null;


    });

}).GetHtml()
